
<div class=" border border-1 border-black gap-5 p-3 flex flex-col w-fit bg-blue-400 relative z-50">

      <div class="flex justify-end mr-4">
        <button 
          (click)="toggleDropdown()"
          class="flex items-center gap-3 min-w-max"
 
        >
          <img 
            class="w-10"
            src="/assets/layout/icons/card-settings.svg" alt=""
          >
          <h1 class="hidden md:block">Kortinställningar</h1>
          <img [src]="arrowImg" alt="">
        </button>
      </div>  
        <div *ngIf="isDropdownOpen"
        class="flex flex-col justify-between  space-y-3 "
        >
        <!-- Första kortets inställningar -->
         <section 
          class="border border-1 border-black px-2 py-1 rounded-sm hover:bg-orange-200 flex-1 bg-white"
          [ngClass]="{'bg-orange-200' : isFirstCardSettingsDropdownOpen}"
          tabindex="2"
          >
          <button 
            (click)="toggleSettingOptionsDropdown('firstCard')"
            class="flex items-center justify-between w-full"

          >
            <img src="/assets/layout/icons/first-card-icon.svg" alt="" class="h-8">
            <h2>Första kortet</h2>
            <img [src]="isFirstCardSettingsDropdownOpen ? 'assets/layout/icons/arrow-up.svg' : 'assets/layout/icons/arrow-down.svg'" alt="">
          </button>
          <ul 
            class="flex gap-1 flex-col"
            *ngIf="isFirstCardSettingsDropdownOpen"
            
          >
              <li 
              *ngFor="let option of firstCardOptions" 
              tabindex="0" 
              (click)="updateFirstPairingMode(option)" 
              (keydown.enter)="updateFirstPairingMode(option)" 
              [class.selected]="option === (pairingModeFirstCard$ | async)"
              class="flex gap-3 p-1 border-2 border-transparent hover:cursor-pointer hover:border-orange-400 bg-transparent"
          >
          <div *ngIf="option === 'bild'" >
            <img class="w-10"  src="/assets/layout/icons/image-icon.svg" alt="">
          </div>
          <div *ngIf="option === 'ritade tecken'" >
            <img class="w-10"  src="/assets/layout/icons/ritade-tecken-icon.svg" alt="">
          </div>
          <div *ngIf="option === 'ord'" >
            <img class="w-10"  src="/assets/layout/icons/ord-icon.svg" alt="">
          </div>
          <div *ngIf="option === 'tecken som st\u00F6d'" >
            <img class="w-10"  src="/assets/layout/icons/takk-icon.svg" alt="">
          </div>
              {{ option }}
            </li>
          </ul>
         </section>
        

          <!-- Andra kortens inställningar -->
          <section 
            class="border border-1 border-black px-2 py-1 rounded-sm hover:bg-orange-200 flex-1 bg-white"
            [ngClass]="{'bg-orange-200' : isSecondCardSettingsDropdownOpen}"
            tabindex="2"
          >
            <button 
              (click)="toggleSettingOptionsDropdown('secondCard')" 
              class="flex items-center justify-between w-full"
     
            >
              <img src="/assets/layout/icons/second-card-icon.svg" alt="" class="h-8">
              <h2>Resterande kort</h2>
              <img [src]="isSecondCardSettingsDropdownOpen ? 'assets/layout/icons/arrow-up.svg' : 'assets/layout/icons/arrow-down.svg'" alt="">
            </button>
            <ul 
              class="flex gap-1 flex-col"
              *ngIf="isSecondCardSettingsDropdownOpen"
              >
              <li 
                *ngFor="let option of secondCardOptions" 
                tabindex="0" 
                (click)="updateSecondPairingMode(option)" 
                (keydown.enter)="updateSecondPairingMode(option)"
                [class.selected]="option === (pairingModeSecondCard$ | async)" 
                class="flex gap-3 p-1 border-2 border-transparent hover:cursor-pointer hover:border-orange-400 bg-transparent"
              >
              <div *ngIf="option === 'bild'" >
                <img class="w-10"  src="/assets/layout/icons/image-icon.svg" alt="">
              </div>
              <div *ngIf="option === 'ritade tecken'" >
                <img class="w-10"  src="/assets/layout/icons/ritade-tecken-icon.svg" alt="">
              </div>
              <div *ngIf="option === 'ord'" >
                <img class="w-10"  src="/assets/layout/icons/ord-icon.svg" alt="">
              </div>
              <div *ngIf="option === 'tecken som st\u00F6d'" >
                <img class="w-10"  src="/assets/layout/icons/takk-icon.svg" alt="">
              </div>
                {{ option }}
                <img src="" alt="">
              </li>
            </ul>
          </section>

          <!-- Ämnesområdeinställningar -->
          <section 
          class="border border-1 border-black px-2 py-1 rounded-sm hover:bg-orange-200 flex-1 bg-white"
          [ngClass]="{'bg-orange-200' : isSubjectAreaSettingsDropdownOpen}"
          tabindex="2"
        >
          <button 
            (click)="toggleSettingOptionsDropdown('subjectArea')" 
            class="flex items-center justify-between w-full"
   
          >
            <img src="/assets/layout/icons/category-icon.png" alt="" class="h-8">
            <h2>Ämnesområde</h2>
            <img [src]="isSubjectAreaSettingsDropdownOpen ? 'assets/layout/icons/arrow-up.svg' : 'assets/layout/icons/arrow-down.svg'" alt="">
          </button>
          <ul 
            class="flex gap-1 flex-col"
            *ngIf="isSubjectAreaSettingsDropdownOpen"
          >

              <!-- Kategoriinställningar -->

              <!-- Estetisk verksamhet -->
              <section 
              class="border border-2 border-transparent px-2 py-1 rounded-sm hover:border-orange-400 flex-1 bg-transparent"
              [ngClass]="{'bg-orange-200' : isEstetiskVerksamhetDropdownOpen}"
              tabindex="2"
              >
                <button 
                  (click)="toggleSubjectAreaDropdown('estetisk verksamhet')" 
                  class="flex items-center justify-between w-full"
                >
                  <h2>Estetisk verksamhet</h2>
                  <img [src]="isEstetiskVerksamhetDropdownOpen ? 'assets/layout/icons/arrow-up.svg' : 'assets/layout/icons/arrow-down.svg'" alt="">
                </button>
                <ul 
                  class="flex gap-1 flex-col"
                  *ngIf="isEstetiskVerksamhetDropdownOpen"
                >
                  <li *ngFor="let option of estetiskVerksamhetOptions"
                    tabindex="0"
                    (click)="updateCategory(option)"
                    (keydown.enter)="updateCategory(option)"
                    [class.selected]="option === (category$ | async)"
                    class="flex gap-3 p-1 border-2 border-transparent hover:cursor-pointer hover:border-orange-400 bg-transparent"
                  >
                    {{option}}
                  </li>
                </ul>
              </section>

              <!-- Kommunikation -->
              <section 
              class="border border-2 border-transparent px-2 py-1 rounded-sm hover:border-orange-400 flex-1 bg-transparent"
              [ngClass]="{'bg-orange-200' : isKommunikationDropdownOpen}"
              tabindex="2"
              >
                <button 
                  (click)="toggleSubjectAreaDropdown('kommunikation')" 
                  class="flex items-center justify-between w-full"
                >
                  <h2>Kommunikation</h2>
                  <img [src]="isKommunikationDropdownOpen ? 'assets/layout/icons/arrow-up.svg' : 'assets/layout/icons/arrow-down.svg'" alt="">
                </button>
                <ul 
                  class="flex gap-1 flex-col"
                  *ngIf="isKommunikationDropdownOpen"
                >
                  <li *ngFor="let option of kommunikationOptions"
                    tabindex="0"
                    (click)="updateCategory(option)"
                    (keydown.enter)="updateCategory(option)"
                    [class.selected]="option === (category$ | async)"
                    class="flex gap-3 p-1 border-2 border-transparent hover:cursor-pointer hover:border-orange-400 bg-transparent"
                  >
                    {{option}}
                  </li>
                </ul>
              </section>

              <!-- Motorik -->
              <section 
              class="border border-2 border-transparent px-2 py-1 rounded-sm hover:border-orange-400 flex-1 bg-transparent"
              [ngClass]="{'bg-orange-200' : isMotorikDropdownOpen}"
              tabindex="2"
              >
                <button 
                  (click)="toggleSubjectAreaDropdown('motorik')" 
                  class="flex items-center justify-between w-full"
                >
                  <h2>Motorik</h2>
                  <img [src]="isMotorikDropdownOpen ? 'assets/layout/icons/arrow-up.svg' : 'assets/layout/icons/arrow-down.svg'" alt="">
                </button>
                <ul 
                  class="flex gap-1 flex-col"
                  *ngIf="isMotorikDropdownOpen"
                >
                  <li *ngFor="let option of motorikOptions"
                    tabindex="0"
                    (click)="updateCategory(option)"
                    (keydown.enter)="updateCategory(option)"
                    [class.selected]="option === (category$ | async)"
                    class="flex gap-3 p-1 border-2 border-transparent hover:cursor-pointer hover:border-orange-400 bg-transparent"
                  >
                    {{option}}
                  </li>
                </ul>
              </section>

               <!-- Vardagsaktivitet -->
               <section 
               class="border border-2 border-transparent px-2 py-1 rounded-sm hover:border-orange-400 flex-1 bg-transparent"
               [ngClass]="{'bg-orange-200' : isVardagsaktivitetDropdownOpen}"
               tabindex="2"
               >
                 <button 
                   (click)="toggleSubjectAreaDropdown('vardagsaktivitet')" 
                   class="flex items-center justify-between w-full"
                 >
                   <h2>Vardagsaktivitet</h2>
                   <img [src]="isVardagsaktivitetDropdownOpen ? 'assets/layout/icons/arrow-up.svg' : 'assets/layout/icons/arrow-down.svg'" alt="">
                 </button>
                 <ul 
                   class="flex gap-1 flex-col"
                   *ngIf="isVardagsaktivitetDropdownOpen"
                 >
                   <li *ngFor="let option of vardagsaktivitetOptions"
                     tabindex="0"
                     (click)="updateCategory(option)"
                     (keydown.enter)="updateCategory(option)"
                     [class.selected]="option === (category$ | async)"
                     class="flex gap-3 p-1 border-2 border-transparent hover:cursor-pointer hover:border-orange-400 bg-transparent"
                   >
                     {{option}}
                   </li>
                 </ul>
               </section>

  
              <!-- Verklighetsuppfattning -->
               <section 
               class="border border-2 border-transparent px-2 py-1 rounded-sm hover:border-orange-400 flex-1 bg-transparent"
               [ngClass]="{'bg-orange-200' : isVerklighetsuppfattningDropdownOpen}"
               tabindex="2"
               >
                 <button 
                   (click)="toggleSubjectAreaDropdown('verklighetsuppfattning')" 
                   class="flex items-center justify-between w-full"
                 >
                   <h2>Verklighetsuppfattning</h2>
                   <img [src]="isVerklighetsuppfattningDropdownOpen ? 'assets/layout/icons/arrow-up.svg' : 'assets/layout/icons/arrow-down.svg'" alt="">
                 </button>
                 <ul 
                   class="flex gap-1 flex-col"
                   *ngIf="isVerklighetsuppfattningDropdownOpen"
                 >
                   <li *ngFor="let option of verklighetsuppfattningOptions"
                     tabindex="0"
                     (click)="updateCategory(option)"
                     (keydown.enter)="updateCategory(option)"
                     [class.selected]="option === (category$ | async)"
                     class="flex gap-3 p-1 border-2 border-transparent hover:cursor-pointer hover:border-orange-400 bg-transparent"
                   >
                     {{option}}
                   </li>
                 </ul>
               </section>

          </ul>
        </section>

          <!-- Kategoriinställningar -->
          <section 
            class="border border-1  border-black px-2 py-1 rounded-sm hover:bg-orange-200 flex-1 bg-white"
            [ngClass]="{'bg-orange-200' : isCategorySettingsDropdownOpen}"
            tabindex="2"
          >
            <button 
              (click)="toggleSettingOptionsDropdown('category')" 
              class="flex items-center justify-between w-full"
     
            >
              <img src="/assets/layout/icons/category-icon.png" alt="" class="h-8">
              <h2>Kategori</h2>
              <img [src]="isCategorySettingsDropdownOpen ? 'assets/layout/icons/arrow-up.svg' : 'assets/layout/icons/arrow-down.svg'" alt="">
            </button>
            <ul 
              class="flex gap-1 flex-col"
              *ngIf="isCategorySettingsDropdownOpen"
            >
              <li *ngFor="let option of categoryOptions"
                tabindex="0"
                (click)="updateCategory(option)"
                (keydown.enter)="updateCategory(option)"
                [class.selected]="option === (category$ | async)"
                class="flex gap-3 p-1 border-2 border-transparent hover:cursor-pointer hover:border-orange-400 bg-transparent"
              >
              {{option}}
              </li>
            </ul>
          </section>
          

          <!-- Antal kort-inställningar -->
          <section 
            class="border border-1 border-black px-2 py-1 rounded-sm hover:bg-orange-200 flex-1 bg-white"
            [ngClass]="{'bg-orange-200' : isNumberOfOptionsSettingsDropdownOpen}"
            tabindex="3"
          >
            <button 
              (click)="toggleSettingOptionsDropdown('options')" 
              class="flex items-center justify-between w-full"
 
            >
              <img src="/assets/layout/icons/number-of-options-icon.svg" alt="" class="h-8">
              <h2>Antal kort</h2>
              <img [src]="isNumberOfOptionsSettingsDropdownOpen ? 'assets/layout/icons/arrow-up.svg' : 'assets/layout/icons/arrow-down.svg'" alt="">
            </button>
            <ul 
              class="flex gap-1 flex-col"
              *ngIf="isNumberOfOptionsSettingsDropdownOpen"
            >
              <li *ngFor="let option of numberOfOptions"
                tabindex="0"
                (click)="updateNumberOfOptions(option)"
                (keydown.enter)="updateNumberOfOptions(option)"
                [class.selected]="option === (numberOfOptions$ | async)"
                class=" py-1 px-2 border-2 border-transparent hover:cursor-pointer hover:border-orange-400 "
              >
              {{option}}
              </li>
            </ul>
          </section>

           <!-- Antal rundor-inställningar -->
          <section 
            class="border border-1 border-black px-3 py-1 rounded-sm hover:bg-orange-200 flex-1 bg-white"
            [ngClass]="{'bg-orange-200' : isNumberOfRoundsSettingsDropdownOpen}"
            tabindex="4"
          >
            <button 
              (click)="toggleSettingOptionsDropdown('rounds')" 
              class="flex items-center justify-between w-full"
          
            >
              <img src="/assets/layout/icons/rounds-icon.svg" alt="" class="h-8">
              <h2>Antal omgångar</h2>
              <img [src]="isNumberOfRoundsSettingsDropdownOpen ? 'assets/layout/icons/arrow-up.svg' : 'assets/layout/icons/arrow-down.svg'" alt="">
            </button>
           <ul 
             class="flex gap-1 flex-col"
             *ngIf="isNumberOfRoundsSettingsDropdownOpen"
           >
             <li *ngFor="let option of numberOfRounds"
               tabindex="0"
               (click)="updateNumberOfRounds(option)"
               (keydown.enter)="updateNumberOfRounds(option)"
               [class.selected]="option === (numberOfRounds$ | async)"
               class="flex gap-3 p-1 border-2 border-transparent hover:cursor-pointer hover:border-orange-400 bg-transparent"
             >
             {{option}}
             </li>
           </ul>
         </section>
         

        </div>
</div>